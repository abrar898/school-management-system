{% load static %}

<!DOCTYPE html>
<html lang="en">
   
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
      <title>Preskool - Dashboard</title>
      <link rel="shortcut icon" href="{%static 'assets/img/favicon.png' %}">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,500;0,600;0,700;1,400&amp;display=swap">
      
      <!-- Add Tailwind CSS CDN -->
      <script src="https://cdn.tailwindcss.com"></script>
      
      <!-- FontAwesome -->
      <link rel="stylesheet" href="{%static 'assets/plugins/fontawesome/css/fontawesome.min.css' %}">
      <link rel="stylesheet" href="{%static 'assets/plugins/fontawesome/css/all.min.css' %}">
      
      <!-- Custom styles - these will be overridden by Tailwind for most cases -->
      <link rel="stylesheet" href="{%static 'assets/css/style.css' %}">
 
   </head>
   <body class="bg-gray-100">
      <div class="min-h-screen">
         <header class="bg-white shadow-md">
            <div class="container mx-auto flex justify-between items-center py-4 px-6">
               <div class="flex items-center">
                  <a href="index.html" class="mr-8">
                     <img src="{% static 'assets/img/logo.png' %}" alt="Logo" class="h-10">
                  </a>
                  <button id="toggle_btn" class="md:hidden text-gray-500 hover:text-gray-700">
                     <i class="fas fa-align-left"></i>
                  </button>
            </div>
               
               <div class="hidden md:block">
                  <form class="relative">
                     <input type="text" class="h-10 w-64 pl-4 pr-10 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Search here">
                     <button class="absolute right-2 top-2 text-gray-500" type="submit"><i class="fas fa-search"></i></button>
               </form>
            </div>
               
               <div class="flex items-center">
                  <button class="md:hidden text-gray-500 hover:text-gray-700 mr-4" id="mobile_btn">
            <i class="fas fa-bars"></i>
                  </button>
                  
                  <div class="relative mr-4">
                     <button class="text-gray-500 hover:text-gray-700 relative">
                   {% if unread_notification_count > 0 %}
                        <i class="far fa-bell text-xl"></i>
                        <span class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">{{unread_notification_count}}</span>
                        {% else %}
                        <i class="far fa-bell text-xl"></i>
                  {% endif %}
                     </button>
                     
                  </div>
                  
                  <div class="relative">
                     <button class="flex items-center text-gray-700 hover:text-gray-900">
                        <img class="h-8 w-8 rounded-full object-cover" src="{% static 'assets/img/profiles/avatar-01.jpg' %}" alt="Ryan Taylor">
                        <span class="ml-2 hidden md:block">{{user.username}}</span>
                     </button>
                     
                  </div>
               </div>
         </div>
         </header>
         
         <div class="flex">
            <aside class="w-64 bg-white shadow-md hidden md:block h-screen overflow-y-auto fixed">
               <nav class="px-4 py-6">
                  <ul>
                     <li class="mb-6">
                        <h3 class="text-xs uppercase text-gray-500 font-semibold tracking-wide">Main Menu</h3>
                        <ul class="mt-3">
                           <li class="mb-2">
                              <a href="#" class="flex items-center text-blue-600 font-medium">
                                 <i class="fas fa-user-graduate mr-3 text-blue-600"></i>
                                 <span>Dashboard</span>
                              </a>
                              <ul class="pl-8 mt-2">
                                 <li class="mb-1"><a href="index.html" class="text-blue-600 hover:text-blue-800">Admin Dashboard</a></li>
                                 <li class="mb-1"><a href="teacher-dashboard.html" class="text-gray-700 hover:text-blue-600">Teacher Dashboard</a></li>
                                 <li class="mb-1"><a href="student-dashboard.html" class="text-gray-700 hover:text-blue-600">Student Dashboard</a></li>
                        </ul>
                     </li>
                           
                           <li class="mb-2">
                              <a href="#" class="flex items-center text-gray-700 hover:text-blue-600">
                                 <i class="fas fa-user-graduate mr-3 text-gray-500"></i>
                                 <span>Students</span>
                              </a>
                              <ul class="pl-8 mt-2 hidden">
                                 <li class="mb-1"><a href="student-details.html" class="text-gray-700 hover:text-blue-600">Student View</a></li>
                                 <li class="mb-1"><a href="edit-student.html" class="text-gray-700 hover:text-blue-600">Student Edit</a></li>
                        </ul>
                     </li>
                           
                           <li class="mb-2">
                              <a href="#" class="flex items-center text-gray-700 hover:text-blue-600">
                                 <i class="fas fa-chalkboard-teacher mr-3 text-gray-500"></i>
                                 <span>Teachers</span>
                              </a>
                              <ul class="pl-8 mt-2 hidden">
                                 <li class="mb-1"><a href="teachers.html" class="text-gray-700 hover:text-blue-600">Teacher List</a></li>
                                 <li class="mb-1"><a href="teacher-details.html" class="text-gray-700 hover:text-blue-600">Teacher View</a></li>
                                 <li class="mb-1"><a href="add-teacher.html" class="text-gray-700 hover:text-blue-600">Teacher Add</a></li>
                                 <li class="mb-1"><a href="edit-teacher.html" class="text-gray-700 hover:text-blue-600">Teacher Edit</a></li>
                        </ul>
                     </li>
                           
                           <li class="mb-2">
                              <a href="#" class="flex items-center text-gray-700 hover:text-blue-600">
                                 <i class="fas fa-building mr-3 text-gray-500"></i>
                                 <span>Departments</span>
                              </a>
                              <ul class="pl-8 mt-2 hidden">
                                 <li class="mb-1"><a href="departments.html" class="text-gray-700 hover:text-blue-600">Department List</a></li>
                                 <li class="mb-1"><a href="add-department.html" class="text-gray-700 hover:text-blue-600">Department Add</a></li>
                                 <li class="mb-1"><a href="edit-department.html" class="text-gray-700 hover:text-blue-600">Department Edit</a></li>
                              </ul>
                           </li>
                           
                           <li class="mb-2">
                              <a href="#" class="flex items-center text-gray-700 hover:text-blue-600">
                                 <i class="fas fa-book-reader mr-3 text-gray-500"></i>
                                 <span>Subjects</span>
                              </a>
                              <ul class="pl-8 mt-2 hidden">
                                 <li class="mb-1"><a href="subjects.html" class="text-gray-700 hover:text-blue-600">Subject List</a></li>
                                 <li class="mb-1"><a href="add-subject.html" class="text-gray-700 hover:text-blue-600">Subject Add</a></li>
                                 <li class="mb-1"><a href="edit-subject.html" class="text-gray-700 hover:text-blue-600">Subject Edit</a></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                     
                  </ul>
               </nav>
            </aside>
            
            <!-- Using div instead of main tag for better IE compatibility -->
            <div class="md:ml-64 w-full" role="main">
               {% block body %}
               {% endblock %}
            </div>
         </div>
      </div>
 
      <script src="{%static 'assets/js/jquery-3.6.0.min.js' %}"></script>
      <script src="{%static 'assets/js/popper.min.js' %}"></script>
      <script src="{%static 'assets/js/bootstrap.min.js' %}"></script>
      <script src="{%static 'assets/js/script.js' %}"></script>
      
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          const mobileBtn = document.getElementById('mobile_btn');
          const sidebar = document.querySelector('aside');
          
          if (mobileBtn) {
            mobileBtn.addEventListener('click', function() {
              sidebar.classList.toggle('hidden');
            });
          }
          
          const menuItems = document.querySelectorAll('aside nav > ul > li > ul > li > a');
          
          menuItems.forEach(item => {
            item.addEventListener('click', function(e) {
              const submenu = this.nextElementSibling;
              if (submenu && submenu.tagName === 'UL') {
                e.preventDefault();
                submenu.classList.toggle('hidden');
                
                if (!submenu.classList.contains('hidden')) {
                  this.classList.add('text-blue-600');
                  this.classList.remove('text-gray-700');
                } else {
                  this.classList.remove('text-blue-600');
                  this.classList.add('text-gray-700');
                }
              }
            });
          });
        });
      </script>
   </body>
</html>
  